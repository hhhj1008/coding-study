# API(애플리케이션 프로그래밍 인터페이스)란?

> 다른 소프트웨어 시스템과 통신하기 위해 따라야 하는 규칙을 정의  
> 다른 애플리케이션이 프로그래밍 방식으로 애플리케이션과 통신할 수 있도록 API를 표시하거나 생성  
> 웹 API는 클라이언트와 웹 리소스 사이의 게이트웨이

#### 클라이언트

-   웹에서 정보에 액세스하려는 사용자. API를 사용하는 사람이거나 소프트웨어 시스템

#### 리소스

-   다양한 애플리케이션이 클라이언트에 제공하는 정보. 이미지, 동영상, 텍스트, 숫자 또는 모든 유형의 데이터
-   클라이언트에 리소스를 제공하는 시스템을 서버라고 함
-   조직은 API를 사용하여 리소스를 공유하고 보안, 제어 및 인증을 유지하면서 웹 서비스를 제공
-   API는 특정 내부 리소스에 액세스할 수 있는 클라이언트를 결정하는 데 도움이 됨

---

# REST(Representational State Transfer)란?

> API 작동 방식에 대한 조건을 부과하는 소프트웨어 아키텍처  
> REST 기반 아키텍처를 사용하여 대규모의 고성능 통신을 안정적으로 지원할 수 있음

#### REST 아키텍처 스타일의 원칙

-   균일한 인터페이스
    1.  요청은 리소스를 식별해야함. 이를 위해 균일한 리소스 식별자를 사용
    2.  클라이언트는 원하는 경우 리소스를 수정하거나 삭제하기에 충분한 정보를 리소스 표현에서 가지고있음. 서버는 리소스를 자세히 설명하는 메타데이터를 전송하여 이 조건을 충족
    3.  클라이언트는 표현을 추가로 처리하는 방법에 대한 정보를 수신. 이를 위해 서버는 클라이언트가 리소스를 적절하게 사용할 수 있는 방법에 대한 메타데이터가 포함된 명확한 메시지를 전송
    4.  클라이언트는 작업을 완료하는데 필요한 다른 모든 관련 리소스에 대한 정보를 수신. 이를 위해 서버는 클라이언트가 더 많은 리소스를 동적으로 검색할 수있도록 표현에 하이퍼링크를 넣어 전송
-   무상태
    1.  서버가 이전의 모든 요청과 독립적으로 모든 클라이언트 요청을 완료하는 통신 방법.
    2.  클라이언트는 임의의 순서로 리소스를 요청할 수 있고 모든 요청은 무상태이거나 다른 요청과 분리됨
    3.  이 REST API 설계 제약 조건은 서버가 매번 요청을 완전히 이해해서 이행할 수 있음을 의미
-   계층화 시스템
    1.  계층화된 시스템 아키텍처에서 클라이언트는 서버 사이의 다른 승인된 중개자에게 연결할 수 있으며 여전히 서버로부터도 응답을 받음
    2.  서버는 요청을 다른 서버로 전달할 수도 있음
    3.  클라이언트 요청을 이행하기 위해 함께 작동하는 보안, 애플리케이션 및 비즈니스 로직과 같은 여러 계층으로 여러 서버에서 실행되도록 RESTful 웹 서비스를 설계할 수 있음. 이러한 계층은 클라이언트에 보이지않는 상태로 유지
-   캐시 가능성
    1.  서버 응답 시간을 개선하기 위해 클라이언트 또는 중개자에 일부 응답을 저장하는 프로세스인 캐싱을 지원

예를 들어 모든 페이지에 공통 머리글 및 바닥글 이미지가 있는 웹 사이트를 방문한다고 가정.  
  
새로운 웹 사이트 페이지를 방문할 때마다 서버는 동일한 이미지를 다시 전송해야 함.  
이를 피하기 위해 클라이언트는 첫 번째 응답 후에 해당 이미지를 캐싱하거나 저장한 다음 캐시에서 직접 이미지를 사용

-   온디맨드 코드
    1.  REST 아키텍처 스타일에서 서버는 소프트웨어 프로그래밍 코드를 클라이언트에 전송하여 클라이언트 기능을 일시적으로 확장하거나 사용자 지정할 수 있음  
          
        ex) 웹 사이트에서 등록 양식을 작성하면 브라우저는 잘못된 전화번호화 같은 실수를 즉시 강조 표시. 서버에서 전송한 코드로 인해 이 작업을 수행할 수 있음

---

# RESTful API란?

> RESTful API는 두 컴퓨터 시스템이 인터넷을 통해 정보를 안전하게 교환하기 위해 사용하는 인터페이스  
> 안전하고 신뢰할 수 있으며 효율적인 소프트웨어 통신 표준을 따름

---

# RESTful API를 사용하면 얻는 이점

1.  확장성
    -   REST가 클라이언트와 서버의 상호 작용을 최적화하기 때문에 효율적으로 크기 조정 가능
    -   무상태는 서버가 과거 클라이언트 요청 정보를 유지할 필요가 없으므로 서버 로드를 제거
    -   잘 관리된 캐싱은 일부 클라이언트와 서버의 상호 작용을 부분적으로 또는 완전히 제거
    -   위와 같은 기능은 성능을 저하시키는 통신 병목 현상을 일으키지 않으면서 확장성을 지원
2.  유연성
    -   완전한 클라이언트-서버 분리를 지원
    -   각 부분이 독립적으로 발전할 수 있도록 다양한 서버 구성 요소를 단순화하고 분리
    -   서버 애플리케이션의 플랫폼 또는 기술 변경은 클라이언트 애플리케이션에 영향을 주지 않음
    -   애플리케이션 함수를 계층화하는 기능은 유연성을 더욱 향상시킴
3.  독립성
    -   API 설계에 영향을 주지 않고 다양한 프로그래밍 언어로 클라이언트 및 서버 애플리케이션을 모두 작성할 수 있음.
    -   통신에 영향을 주지 않고 양쪽의 기본 기술을 변경 가능

---

# RESTful API가 동작하는 방식

1.  클라이언트가 서버에 요청을 전송
2.  서버가 클라이언트을 인증하고 해당 요청을 수행할 수 있는 권한이 있는지 확인
3.  서버가 요청을 수신하고 처리
4.  서버가 클라이언트에 응답을 반환. 응답에는 요청이 성공했는지 여부 및 클라이언트가 요청한 모든 정보 포함

---

# RESTful API 클라이언트 요청에 포함되는 요소

1.  고유 리소스 식별자
    -   일반적으로 URL을 사용하여 리소스 식별
2.  메소드
    -   GET
        -   서버의 지정된 URL에 있는 리소스에 액세스
        -   GET 요청을 캐싱하고 RESTful API 요청에 파라미터를 넣어 전송하여 전송 전에 데이터를 필터링하도록 서버에 지시
    -   POST
        -   클라이언트는 POST 메소드를 사용하여 서버에 데이터를 전송
        -   요청과 함께 데이터 표현이 포함
    -   PUT (PATCH)
        -   서버의 기존 리소스를 업데이트
    -   DELETE
        -   서버의 리소스 제거
        -   사용자에게 적절한 인증이 없으면 요청은 실패
3.  HTTP 헤더
    
    -   클라이언트와 서버 간에 교환되는 메타데이터
    
    1.  데이터
        -   RESTful API에는 메소드가 성공적으로 작동하기 위한 데이터가 포함될 수 있음
    2.  파라미터
        
        -   서버가 수행해야 할 작업에 대한 자세한 정보를 제공
        
        1.  URL 세부정보를 지정하는 경로 파라미터
        2.  리소스에 대한 추가 정보를 요쳥하는 쿼리 파라미터
        3.  클라이언트를 빠르게 인증하는 쿠키 파라미터

---

# RESTful API 인증 방법

1.  HTTP 인증
    -   기본 인증
        -   클라이언트는 요청 헤더에 사용자 이름과 암호를 넣어 전송
        -   안전한 전송을 위해 64자의 세트롤 변환하는 인코딩 기술(base64)를 적용
    -   전달자(bearer) 인증
        -   토큰 전달자에 대한 액세스 제어를 제공하는 프로세스
        -   전달자 토큰은 서버가 로그인 요청에 대한 응답으로 생성하는 암호화된 문자열
        -   클라이언트는 리소스에 액세스 하기 위해 요청 헤더에 토큰을 넣어 전송
2.  API 키
    -   서버는 고유하게 생성된 값을 최초 클라이언트에 할당
    -   클라이언트는 리소스에 접근하려고 할 때마다 할당된 API 키를 사용하여 본인임을 인증
    -   클라이언트가 키를 전송해야 해서 네트워크 도난에 취약함
3.  OAuth
    -   모든 시스텡에 대해 매우 안전한 로그인 액세스를 보장하기 위해 암호와 토큰을 결합
    -   서버는 먼저 암호를 요청한 다음 권한 부여 프로세스를 완료하기 위해 추가 토큰을 요청

---

# RESTful API 서버 응답에 포함 되는 요소

1.  상태 표시줄(status code)
    -   요청 성공 또는 실패를 알리는 3자리 상태 코드
    -   ex) 2XX 코드는 성공, 3XX 코드는 URL 리디랙션, 4XX 및 5XX 코드는 오류
2.  메시지 본문
    -   클라이언트가 요청한 데이터
3.  헤더
    -   응답에 대한 헤더 또는 메타데이터
    -   응답에 대한 추가 컨텍스트 제공
    -   서버, 인코딩, 날짜 및 콘텐츠 유형과 같은 정보

---

출처 - [AWS RESTful API란 무엇입니까?](https://aws.amazon.com/ko/what-is/restful-api/)
